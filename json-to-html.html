<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>json to html</title>
</head>
<body>
  <div id="text">
      loading
  </div>
  <script src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js"></script>
  <script>
      fetch('./act1.json')
          .then((response) => response.json())
          .then((json) => {
              const converter = new showdown.Converter();
              const textDiv = document.getElementById('text');

              let turns = "";

              for (const turn of json) {
                  let split = turn.content.split("\n")
                  let parsedTurn = "";

                  for (let string of split) {
                      if (string.startsWith("-")) {
                          string = string.replace("-", "â€”")
                      }

                      parsedTurn += string + "<br>";
                  }

                  turns += converter.makeHtml(parsedTurn) + "\n"
              }

              textDiv.innerHTML = turns;

          });
  </script>
</body>
</html>